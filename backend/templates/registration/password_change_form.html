{% extends 'base.html' %}

{% block static %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'products/css/style.css' %}">
{% endblock %}


{% block title %} Изменение пароля {% endblock %}


{% block content %}


    <main>
        <div class="container-fluid container-auth">
            <div class="row d-flex justify-content-center align-items-center">
                
                <div class="col col-11 col-sm-11 col-md-9 col-lg-7 col-xl-3 col-xxl-3 rounded-4
                bg-dark position-absolute top-50 start-50 translate-middle form-card">
                
                    <form method="post" action="" class="row g-3 needs-validation form-auth">
                        {% csrf_token %}

                        <ul class="nav nav-tabs nav-form" role="tablist">
                            <li role="presentation" class="form-auth-active">
                                <a href="" aria-controls="registration" role="tab" data-toggle="tab">Изменение пароля</a>
                            </li>
                        </ul>

                        <div class="form-floating mb-4 col-md-12 position-relative">
                            {% if form.old_password.errors %}
                                {{ form.old_password }}
                                <label for="{{ form.old_password.id_for_label }}" class="form-label">Введите старый пароль</label>
                                <div class="text-danger">
                                    <small>{{ form.old_password.errors }}</small>
                                </div>
                            {% else %}
                                {{ form.old_password }}
                                <label for="{{ form.old_password.id_for_label }}" class="form-label">Введите старый пароль</label>
                            {% endif %}
                        </div>

                        <div class="form-floating mb-1 col-md-12 position-relative">
                            {{ form.new_password1 }}
                            <label for="{{ form.new_password1.id_for_label }}" class="form-label">Введите новый пароль</label>
                        </div>

                        <div class="form-floating mb-1 col-md-12 position-relative">
                            {{ form.new_password2 }}
                            <label for="{{ form.new_password2.id_for_label }}" class="form-label">Подтвердите новый пароль</label>
                        </div>
                        
                        <div class="invalid-feedback d-block">
                            {{ form.new_password2.errors }}
                        </div>

                        <button class='btn btn-success' type="submit">Изменить пароль</button>
                    </form>

                    
                    <a class="text-info auth-link" href="{% url 'product_list' %}">На главную страницу</a>

                </div>
            </div>
        </div>
    </main>

{% endblock %}